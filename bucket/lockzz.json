{
    "version": "1.0.0",
    "description": "lockzz - Portable application from cube one",
    "homepage": "https://git.cubeone.de/marvin.fenssel/auto-updater",
    "license": "Proprietary",
    "url": "https://git.cubeone.de/marvin.fenssel/auto-updater/-/raw/main/additional_software/lockzz.zip",
    "headers": {
        "Authorization": "Bearer $env:GITLAB_PAT",
        "User-Agent": "cube-one-auto-updater/1.0",
        "Accept": "application/octet-stream"
    },
    "extract_dir": "lockzz",
    "bin": "lockzz.exe",
    "shortcuts": [
        [
            "lockzz.exe",
            "lockzz"
        ]
    ],
    "pre_install": [
        "# Prüfe GitLab PAT",
        "if (-not $env:GITLAB_PAT) {",
        "    throw 'GITLAB_PAT environment variable not set. Please ensure auto-updater has set the GitLab PAT.'",
        "}",
        "if ($env:GITLAB_PAT -notmatch '^glpat-[a-zA-Z0-9_-]{20,}$') {",
        "    Write-Warning 'GitLab PAT format seems invalid but proceeding anyway...'",
        "}",
        "Write-Host 'Using GitLab authentication for download from cube one repository...'",
        "Write-Host 'PAT Preview: ' + $env:GITLAB_PAT.Substring(0, 8) + '...' + $env:GITLAB_PAT.Substring($env:GITLAB_PAT.Length - 4)"
    ],
    "post_install": [
        "Write-Host 'lockzz has been installed successfully from cube one GitLab.' -ForegroundColor Green",
        "Write-Host 'Source: https://git.cubeone.de/marvin.fenssel/auto-updater' -ForegroundColor Blue",
        "Write-Host 'Run \"lockzz\" from command line to start the application.' -ForegroundColor Yellow",
        "# Teste ob die Executable existiert",
        "if (Test-Path \"$dir\\lockzz.exe\") {",
        "    Write-Host '✓ lockzz.exe found and ready to use' -ForegroundColor Green",
        "} else {",
        "    Write-Warning '⚠ lockzz.exe not found in extracted files'",
        "}"
    ],
    "notes": [
        "Portable application from cube one GmbH",
        "Downloaded from private GitLab repository: git.cubeone.de/marvin.fenssel/auto-updater",
        "Requires GITLAB_PAT environment variable for authentication",
        "Authentication handled automatically by cube one auto-updater",
        "No installation required - runs directly from extracted folder",
        "Available as 'lockzz' command in terminal after installation"
    ]
}
